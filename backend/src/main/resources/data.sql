-- 初始化示例数据
-- 注意: 请先确保 schema.sql 已执行，且 admin 用户已创建 (user_id = 1)

USE smart_ledger;

-- 清空现有数据（可选，谨慎使用）
-- DELETE FROM bill WHERE user_id = 1;
-- DELETE FROM diary WHERE user_id = 1;
-- DELETE FROM saving_plan WHERE user_id = 1;

-- =====================================================
-- 插入账单数据 (最近3个月的收支记录)
-- =====================================================

-- 2024年12月账单
INSERT INTO `bill` (`user_id`, `type`, `category`, `amount`, `description`, `bill_date`) VALUES
-- 收入
(1, 'income', '工资', 15000.00, '12月工资', '2024-12-01'),
(1, 'income', '奖金', 3000.00, '年终奖金', '2024-12-20'),
(1, 'income', '兼职', 2000.00, '周末兼职收入', '2024-12-15'),
-- 支出
(1, 'expense', '餐饮', 85.00, '午餐-外卖', '2024-12-26'),
(1, 'expense', '餐饮', 156.00, '朋友聚餐', '2024-12-25'),
(1, 'expense', '餐饮', 42.00, '早餐+咖啡', '2024-12-24'),
(1, 'expense', '交通', 200.00, '地铁充值', '2024-12-01'),
(1, 'expense', '交通', 35.00, '打车', '2024-12-22'),
(1, 'expense', '购物', 299.00, '冬季外套', '2024-12-20'),
(1, 'expense', '购物', 89.00, '日用品', '2024-12-18'),
(1, 'expense', '购物', 1299.00, '蓝牙耳机', '2024-12-15'),
(1, 'expense', '居住', 3500.00, '房租', '2024-12-01'),
(1, 'expense', '居住', 150.00, '水电费', '2024-12-05'),
(1, 'expense', '居住', 100.00, '网费', '2024-12-05'),
(1, 'expense', '娱乐', 45.00, '电影票', '2024-12-21'),
(1, 'expense', '娱乐', 68.00, '视频会员', '2024-12-10'),
(1, 'expense', '医疗', 256.00, '感冒药', '2024-12-08'),
(1, 'expense', '教育', 199.00, '在线课程', '2024-12-12');

-- 2024年11月账单
INSERT INTO `bill` (`user_id`, `type`, `category`, `amount`, `description`, `bill_date`) VALUES
-- 收入
(1, 'income', '工资', 15000.00, '11月工资', '2024-11-01'),
(1, 'income', '投资', 500.00, '基金收益', '2024-11-15'),
-- 支出
(1, 'expense', '餐饮', 1800.00, '本月餐饮总计', '2024-11-30'),
(1, 'expense', '交通', 280.00, '交通费用', '2024-11-30'),
(1, 'expense', '购物', 2100.00, '双十一购物', '2024-11-11'),
(1, 'expense', '居住', 3500.00, '房租', '2024-11-01'),
(1, 'expense', '居住', 180.00, '水电费', '2024-11-05'),
(1, 'expense', '娱乐', 320.00, '演唱会门票', '2024-11-16'),
(1, 'expense', '通讯', 128.00, '手机话费', '2024-11-10');

-- 2024年10月账单
INSERT INTO `bill` (`user_id`, `type`, `category`, `amount`, `description`, `bill_date`) VALUES
-- 收入
(1, 'income', '工资', 15000.00, '10月工资', '2024-10-01'),
(1, 'income', '红包', 200.00, '国庆红包', '2024-10-01'),
-- 支出
(1, 'expense', '餐饮', 2500.00, '国庆聚餐', '2024-10-05'),
(1, 'expense', '交通', 800.00, '国庆出行', '2024-10-03'),
(1, 'expense', '旅游', 3000.00, '国庆旅游', '2024-10-02'),
(1, 'expense', '居住', 3500.00, '房租', '2024-10-01'),
(1, 'expense', '购物', 450.00, '秋季衣物', '2024-10-20'),
(1, 'expense', '娱乐', 150.00, '游戏充值', '2024-10-25');

-- =====================================================
-- 插入日记数据
-- =====================================================

INSERT INTO `diary` (`user_id`, `title`, `content`, `mood`, `diary_date`) VALUES
(1, '年末总结', '今年的理财目标基本完成了，存款达到了预期。明年要继续保持良好的消费习惯，争取存更多钱。', 'happy', '2024-12-26'),
(1, '圣诞节快乐', '今天是圣诞节，和朋友们一起聚餐庆祝。虽然花了不少钱，但是很开心。生活需要仪式感！', 'excited', '2024-12-25'),
(1, '双十二剁手反思', '双十二又买了一堆东西，虽然都是打折的，但加起来也不少。下次要理性消费，只买真正需要的。', 'sad', '2024-12-12'),
(1, '工资到账', '这个月工资到账了，扣除房租和必要开支后，还能存下一笔。继续加油！', 'happy', '2024-12-01'),
(1, '双十一战报', '双十一买了很多东西，主要是冬装和日用品。虽然花了不少，但都是刚需，而且价格确实便宜。', 'normal', '2024-11-11'),
(1, '国庆旅游归来', '国庆去了杭州玩了几天，风景很美，就是人太多了。这次旅游花费控制在预算内，很满意。', 'happy', '2024-10-07'),
(1, '开始记账', '今天开始使用这个记账软件，希望能帮助我更好地管理财务。目标是每月存款5000元！', 'excited', '2024-10-01');

-- =====================================================
-- 插入存钱计划数据
-- =====================================================

INSERT INTO `saving_plan` (`user_id`, `name`, `goal_amount`, `saved_amount`, `start_date`, `end_date`, `color`, `remark`) VALUES
(1, '2025年旅游基金', 20000.00, 5000.00, '2024-10-01', '2025-06-30', '#67c23a', '计划明年暑假去日本旅游'),
(1, '新电脑换购', 12000.00, 8500.00, '2024-08-01', '2025-03-31', '#409eff', 'MacBook Pro 换新'),
(1, '应急储备金', 30000.00, 22000.00, '2024-01-01', '2024-12-31', '#e6a23c', '6个月生活费应急储备'),
(1, '学习投资', 5000.00, 3200.00, '2024-09-01', '2025-02-28', '#f56c6c', '在线课程和书籍'),
(1, '健身计划', 3000.00, 1500.00, '2024-11-01', '2025-04-30', '#909399', '健身房年卡+装备');

-- 完成提示
SELECT '初始化数据完成！' AS message;
SELECT CONCAT('账单数量: ', COUNT(*)) AS bill_count FROM bill WHERE user_id = 1;
SELECT CONCAT('日记数量: ', COUNT(*)) AS diary_count FROM diary WHERE user_id = 1;
SELECT CONCAT('存钱计划数量: ', COUNT(*)) AS plan_count FROM saving_plan WHERE user_id = 1;
